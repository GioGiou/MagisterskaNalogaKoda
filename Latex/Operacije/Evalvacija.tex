V tem podpoglavju bomo predstavili rezultate testiranja različnih indeksov besed. Testiranje je bilo izdelano z metodo in računalnikom predstavljenim v podpoglavju \ref{sec:opis}. Meritve lahko razdelimo na dva dela, in sicer: meritvi vezani na gradnjo, ki sta čas gradnje in velikost podatkovne strukture, ter meritve časov poizvedb z uporabo indeksov. Zato bo tudi sledeče podpoglavje razdeljeno na dva dela. V vsakem delu bodo ločeno predstavljeni rezultati testiranja za vsako testno besedo iz Tabele \ref{tab:besedila}.

Dolžina najdaljše vhodne besed $n_{max}$ je bila sprva nastavljena na 4000000 znakov. Med testiranjem priponskega drevesa besede dolžine 2048000 znakov opazimo, da je čas, potreben za izgradnjo priponskega drevesa, presegal pet minut. V tem trenutku je bil delovni pomnilnik v celoti zaseden ter 6 GB pomnilniških strani je bilo premaknjenih na Swap prostor. Pri tem je bil računalnik neodziven in proces je bil v neprekinjenem spanju (angl. \textit{Uninterruptible sleep} ali stanje D). Na Sliki \ref{fig:6GB} je prikazan upravljalnik opravil Htop v času izgradnje priponskega drevesa za besedo dolžine 2048000 znakov. Proces v modri vrstici predstavlja program za testiranje časa izgradnje in poizvedb ter prostorske zahtevnosti indeksov besed. V stolpcu, označenem S (Stanje ali angl. \textit{Status}), je vidno, da je stanje procesa označeno kot D. Po več kot petih minutah od začetka gradnje priponskega drevesa za besedo dolžine 2048000 znakov smo se odločili, da se proces ustavi. Posledično se je znižala velikost najdaljše testirane besede na 1024000 znakov. Med testiranjem smo tudi opazili, da se $LCP$ polje ne zgradi za besede dolžine 1024000 znakov in smo se odločili, da se ta test v zadnjem koraku izpusti.

\begin{figure}[tb]
    \centering
    \includegraphics[width=\textwidth]{Slike/Zaslonski posnetek 2025-06-23 22-53-56.png}

    \caption{Posnetek zaslona upravljalnika opravil Htop med izgradnjo priponskega drevesa za besedilo dolžine 2048000 znakov.} 
    \label{fig:6GB}
\end{figure}


\subsection{Gradnja}
Najprej bodo predstavljeni rezultati gradnje. Prvo bodo predstavljeni rezultati meritev velikosti podatkovnih struktur, zatem pa bodo predstavljeni rezultati časov potrebnih za gradnjo.

\paragraph{Velikost podatkovne strukture.}

Rezultati meritve prostorske zahtevnosti so prikazani na Sliki \ref{fig:VelikostGraf} za \DNK\ in na Sliki \ref{fig:VelikostGrafSLO} za \NK. Iz obeh testiranj je vidno, da je prostorska zahtevnost priponskega drevesa večja kot prostorska zahtevnost ostalih indeksov. Pri tem vidimo tudi, da prostorska zahtevnost raste z velikostjo besede, za vse 4 testirane podatkovne strukture.

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/velikostDrecvesaNovPC.svg}
    \caption{Graf velikosti indeksov izgrajenih iz besed različnih velikosti. Vhodna beseda je \DNK.} 
    \label{fig:VelikostGraf}
\end{figure}

Iz rezultatov testiranja za \DNK, Slika \ref{fig:VelikostGraf}, vidimo, da priponsko polje (označeno z zeleno barvo), priponsko polje z LCP poljem (označenim z modro barvo) in kompaktno priponsko drevo (označeno z rdečo barvo) potrebujejo bistveno manj prostora, kot ga potrebuje priponsko drevo (označeno z vijolično barvo).

\begin{figure}[tb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/velikostDrecvesaNovPCSLO.svg}
    \caption{Graf velikosti indeksov izgrajenih iz besed različnih velikosti. Vhodna beseda je roman \NK.} 
    \label{fig:VelikostGrafSLO}
\end{figure}

Podobno se lahko vidi tudi za \NK, Slika \ref{fig:VelikostGrafSLO}. Velikost vseh podatkovnih struktur linearno raste z dolžino vhodne besede, pri čemer priponsko drevo (označeno z vijolično barvo) potrebuje bistveno več prostora kot ostale podatkovne strukture. Pri tem pa se vidi, da je razlika v zasedenem prostoru med priponskim drevesom in ostalimi indeksi nižja in približno konstantna skozi celotno izvajanje testa, za razliko od testa nad \DNK.


\paragraph{Čas potreben za gradnjo.} 

Rezultati so prikazani na Sliki \ref{fig:IzgradnjaGraf} za \DNK\ ter na Sliki \ref{fig:IzgradnjaGrafSLO} za \NK. V obeh primerih vidimo, da čas gradnje indeksov raste linearno z dolžino besede. V obeh testnih primerih se priponsko polje (označeno z zeleno barvo) zgradi najhitreje. Iz slik se zdi, da kompaktno priponsko drevo (označeno z rdečo barvo) potrebuje konstanten čas za gradnjo, vendar se iz rezultatov testiranja vidi majhno rast, ki ni vidna na slikah.

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/izgradnjaDrecvesaNovPC.svg}
    \caption{Graf prikazuje čas gradnje indeksov besede za različne dolžine vhodnih besed. Vhodna beseda je \DNK.} 
    \label{fig:IzgradnjaGraf}
\end{figure}

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/izgradnjaDrecvesaNovPCSLO.svg}
    \caption{Graf prikazuje čas gradnje indeksov besede za različne dolžine vhodnih besed. Vhodna beseda je \NK.} 
    \label{fig:IzgradnjaGrafSLO}
\end{figure}

Časi, izmerjeni pri testiranju z \DNK, prikazani na Sliki \ref{fig:IzgradnjaGraf}, za indeksa priponsko drevo (označeno z vijolično barvo) in priponsko polje z dodanim LCP poljem (označen z modro barvo) so približno stokrat daljši od časov gradnje priponskih polj (označenih z zeleno barvo). Opazi se tudi, da test priponskih polji potrebuje manj kot milisekundo za zgraditi priponska polja za besede krajše od vključno 4000 znakov oziroma prve štiri dolžine besed.

Podobni rezultati so izmerjeni tudi za \NK, prikazani na Sliki \ref{fig:IzgradnjaGrafSLO}. Priponsko drevo (označeno z vijolično barvo) in priponsko polje z dodanim LCP poljem (označeno z modro barvo) potrebujeta približno stokrat daljši čas kot priponsko polje (označeno z zeleno barvo) za izgradnjo. Opazi se tudi, da test priponskih polji potrebuje manj kot milisekundo za zgraditi priponska polja za besede krajše od vključno 4000 znakov oziroma prve štiri dolžine besed.


\subsection{Poizvedbe}
Rezultati testiranja so prikazani na Sliki \ref{fig:IskanjeGraf} za poizvedbe v \DNK\ ter na Sliki \ref{fig:IskanjeGrafSLO} za poizvedbe v \NK. Na obeh slikah so prikazani grafi rezultatov poizvedb za vzorce dolžine 5 znakov (prvi graf), vzorce dolžine 50 znakov (drugi graf), vzorce dolžine 500 znakov (tretji graf) in vzorce dolžine $\log{n}$ znakov (četrti graf).

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/IskanjeNovPC.svg}
    \caption{Graf prikazuje čas iskanja vzorcev različnih dolžin v različnih indeksih besede. Vhodna beseda je \DNK.} 
    \label{fig:IskanjeGraf}
\end{figure}

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/IskanjeNovPCSLO.svg}
    \caption{Graf prikazuje čas iskanja vzorcev različnih dolžin v različnih indeksih besede. Vhodna beseda je \NK.} 
    \label{fig:IskanjeGrafSLO}
\end{figure}

\paragraph{Čas potreben za poizvedbe z vzorci dolžine 5.}

Pri \DNK, katere rezultati testiranja so prikazani na prvem grafu Slike \ref{fig:IskanjeGraf}, je iskanje v kompaktnem priponskem drevesu (označeno z rdečo barvo) najhitrejše. Pri priponskih drevesih (označenih z vijolično barvo) in kompaktnih priponskih drevesih je čas iskanja neodvisen od dolžine vhodne besede. Časi iskanja s priponskimi polji (označenimi z zeleno barvo in z modro barvo) pa se povečujeta za daljše besede.

Na prvem grafu Slike \ref{fig:IskanjeGrafSLO}, ki prikazuje rezultate za \NK, so še bolj vidne razlike med implementacijami priponskih dreves ter med implementacijami s priponskimi polji. Pri iskanju vzorca v besedi dolžine 1024000 z uporabo priponskega drevesa se vidi skok v času, ki je potreben za izvedbo poizvedbe, saj so nekatere strani pomnilnika morale biti ponovno naložene v pomnilnik iz Swap prostora.

\paragraph{Čas potreben za poizvedbe z vzorci dolžine 50.}

Ko se velikost vzorca poveča na 50 znakov, se čas poizvedbe za \DNK, prikazanem na drugem grafu Slike \ref{fig:IskanjeGraf}, loči na dva dela, in sicer na hitrejše iskanje s priponskimi drevesi (označenimi z vijolično barvo) in kompaktnimi priponskimi drevesi (označenimi z rdečo barvo) ter na počasnejše iskanje s priponskimi polji (označenimi z zeleno barvo in z modro barvo). Pri tem se opazi tudi premik strani iz Swap prostora na notranji pomnilnik pri testiranju priponskega drevesa besede dolžine 1024000.

Rezultati testiranja \NK, prikazani na drugem grafu Slike \ref{fig:IskanjeGrafSLO}, so podobni rezultatom testiranja \DNK. Vidno je, da je iskanje s priponskimi drevesi oziroma kompaktnimi priponskimi drevesi desetkrat hitrejše kot s priponskimi polji. Opazi se lahko tudi vpliv premika strani, kot se je opazilo pri drugih že predstavljenih testih za priponska drevesa besed dolžine 1024000 znakov. 

\paragraph{Čas potreben za poizvedbe z vzorci dolžine 500.}
Če nadaljujemo na vzorce dolžine 500 znakov, so rezultati za \DNK, prikazani na tretjem grafu Slike \ref{fig:IskanjeGraf}, podobni rezultatom iskanja vzorcev dolžine 50 znakov. Pri tem je iskanje najhitrejše v priponskih drevesih (označenimi z vijolično barvo), razen za daljše besede, ki ne morejo biti shranjene v celoti na delovnem pomnilniku. Pri tem pa se ne vidi tako drastičnega poslabšanja kot pri vzorcih dolžine 50 znakov.

Rezultati testiranja \NK\ so prikazani na tretjem grafu Slike \ref{fig:IskanjeGrafSLO} (tretji graf). Opazimo lahko, da so približno enaki kot pri \DNK\ in za vzorce dolžine 50 znakov. Za razliko od \DNK\ se v tem primeru izrecno vidi vpliv časa, potrebnega za zamenjavo strani v notranjem pomnilniku, na iskanje s priponskim drevesom (označenim z vijolično barvo). Vidi se tudi, da je priponsko drevo za vse teste razen za zadnja dva najhitrejši način iskanja vzorcev v besedah.

\paragraph{Čas potreben za poizvedbe z vzorci dolžine $\log{n}$.}
Zadnja izvedena testa sta prisotnost vzorcev dolžine $\log{n}$ s pomočjo indeksov. Za \DNK, prikazani na četrtem grafu Slike \ref{fig:IskanjeGraf}, se vidi, da za krajše besede (besede, ki niso daljše od 1000 znakov) vse štiri podatkovne strukture potrebujejo približno isto časa. Za daljše besede pa je priponsko drevo (označeno z vijolično barvo) najhitrejši način iskanja. To velja zgolj dokler drevo ne preraste velikost notranjega pomnilnika in ne potrebuje zamenjave strani, kar negativno vpliva na rezultat iskanja. To se zgodi za besede dolžine 1024000 znakov.

Za \NK, katerega rezultati so prikazani na četrtem grafu Slike \ref{fig:IskanjeGrafSLO}, pa so rezultati podobni. Pri tem je priponsko drevo (označeno z vijolično barvo), konstantno najhitrejši način iskanja. To velja zgolj dokler drevo ne preraste velikost notranjega pomnilnika in ne potrebuje zamenjave strani, kar negativno vpliva na rezultat iskanja. To se zgodi za besede dolžine 1024000 znakov in  je v tem testu jasnejše vidno kot pri \DNK.
