V tem podpoglavju bodo predstavljeni rezultati testiranja različnih indeksov besede, ki je bil izdelan z metodo in računalnikom predstavljenim v podpoglavju \ref{sec:opis}. Metoda meri prostor, ki ga zasede indeks, čas potreben za izgradnjo indeksov in čas potreben za različne poizvedbe z indeksom. Meritve lahko ločimo na dva dela, in sicer: meritvi vezani na gradnjo, ki sta čas gradnje in velikost podatkovne strukture, ter poizvedbe z indeksom. Zato bo sledeče podpoglavje tudi razdeljeno na dva dela. V vsakem delu bodo ločeno predstavljeni rezultati testiranja za vsako testno besedo iz Tabele \ref{tab:besedila}. V podpoglavju \ref{sec:razprava} pa bo narejena bolj podrobna razprava o rezultatih testiranja.

\subsection{Gradnja}
Testiranje se začne z izgradnjo indeksov. Pri tem smo merili čas potreben za gradnjo indeksov za besede različnih dolžin. Enkrat, ko je indeks zgrajen, se lahko izmeri tudi njegova velikost na pomnilniku.

\paragraph{Prostorska zahtevnost podatkovne strukture.}

Rezultati meritve prostorske zahtevnosti so prikazani na Sliki \ref{fig:VelikostGraf} za DNK sekvenco in na Sliki \ref{fig:VelikostGrafSLO} za roman Na klancu. Iz obeh testiranj se vidi, da je prostorska zahtevnost priponskega drevesa večja kot prostorska zahtevnost ostalih indeksov. Pri tem vidimo tudi, da prostorska zahtevnost linearno raste z velikostjo besede, za vse 4 testirane podatkoven strukture.

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/velikostDrecvesaNovPC.svg}
    \caption{Graf velikosti indeksov izgrajenih iz besed različni velikosti. Vhodna beseda je DNK sekvenca.} 
    \label{fig:VelikostGraf}
\end{figure}

Iz rezultatov testiranja za DNK sekvenco, Slika \ref{fig:VelikostGraf}, vidimo, da vse podatkovne strukture linearno rastejo. Pri tem pa priponsko polje (označeno z zeleno barvo), priponsko polje z LCP poljem (označenim z modro barvo) in kompaktno priponsko drevo (označeno z rdečo barvo) potrebujejo bistveno manj prostora, kot ga potrebuje priponsko drevo (označen z viola barvo).

\begin{figure}[tb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/velikostDrecvesaNovPCSLO.svg}
    \caption{Graf velikosti indeksov izgrajenih iz besed različni velikosti. Vhodna beseda je roman Na klancu.} 
    \label{fig:VelikostGrafSLO}
\end{figure}

Podobno se lahko vidi tudi za roman Na klancu, Slika \ref{fig:VelikostGrafSLO}. Velikost vseh podatkovnih strukture linearno rastejo z dolžino vhodne besede, pri čemer priponsko drevo (označen z viola barvo) potrebuje bistveno več prostora kot ostale podatkovne strukture. Pri tem pa se vidi, da je razlika v zasedenem prostoru med priponskim drevesom in ostalimi indeksi nižja in konstantna skozi celotno izvajanje testa, za razliko od testa nad DNK sekvenco.


\paragraph{Časovna zahtevnost gradnje.} 

Zdaj, ko poznamo velikost indeksov, pa si lahko pogledamo čas, ki ga potrebujemo za gradnjo le-teh. Rezultati so prikazani na Sliki \ref{fig:IzgradnjaGraf} za DNK sekvenco ter na Sliki \ref{fig:IzgradnjaGrafSLO} za roman Na klancu. V obeh primerih vidimo, da čas gradnje indeksov raste linearno z dolžino besede. V obeh testnih primerih se priponsko polje (označeno z zeleno barvo) zgradi najhitreje. Iz slik se zdi, da kompaktno priponsko drevo (označeno z rdečo barvo) potrebuje konstanten čas za gradnjo, vendar se iz rezultatov testiranja vidi majhno rast, ki ni vidna na slikah.

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/izgradnjaDrecvesaNovPC.svg}
    \caption{Graf prikazuje čas izgradnje indeksov besede za različne dolžine vhodnih besed. Vhodna beseda je DNK sekvenca.} 
    \label{fig:IzgradnjaGraf}
\end{figure}

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/izgradnjaDrecvesaNovPCSLO.svg}
    \caption{Graf prikazuje čas izgradnje indeksov besede za različne dolžine vhodnih besed. Vhodna beseda je roman Na klancu.} 
    \label{fig:IzgradnjaGrafSLO}
\end{figure}

Časi, izmerjeni pri testiranju z DNK sekvenco, prikazani na Sliki \ref{fig:IzgradnjaGraf}, za indeksa priponsko drevo (označene z viola barvo) in priponsko polje z dodanimi LCP poljem (označen z modro barvo) so približno stokrat daljši od časov gradnje priponskih polj (označenih z zeleno barvo). Opazi se tudi, da test priponskih polji potrebuje manj kot 1 ms za zgraditi priponska polja za besede krajše od vključno 4000 znakov oziroma prve štiri dolžine besed.

Podobni rezultati so izmerjeni tudi za roman Na klancu, prikazani na Sliki \ref{fig:IzgradnjaGrafSLO}. Priponsko drevo (označene z viola barvo) in priponsko polje z dodanim LCP poljem (označen z modro barvo) potrebujeta približno stokrat daljši čas kot priponsko polje (označenih z zeleno barvo), da se zgradi. Opazi se tudi, da test priponskih polji potrebuje manj kot 1 ms za zgraditi priponska polja za besede krajše od vključno 4000 znakov oziroma prve štiri dolžine besed.


\subsection{Poizvedbe}
Rezultati testiranja so prikazani na Sliki \ref{fig:IskanjeGraf} za poizvedbe v DNK sekvenci ter na Sliki \ref{fig:IskanjeGrafSLO} za poizvedbe v romanu Na klancu. Na obeh slikah so prikazani grafi rezultatov poizvedb za vzorce dolžine 5 znakov (prvi graf), vzorce dolžine 50 znakov (drugi graf), vzorce dolžine 500 znakov (tretji graf) in vzorce dolžine $\log{n}$ znakov (četrti graf).

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/IskanjeNovPC.svg}
    \caption{Graf prikazuje čas iskanja vzorcev različnih dolžin v različnih indeksih besede. Vhodna beseda je DNK sekvenca.} 
    \label{fig:IskanjeGraf}
\end{figure}

\begin{figure}[htb]
    \centering
    \includesvg[inkscapelatex=false,width=\textwidth]{Slike/IskanjeNovPCSLO.svg}
    \caption{Graf prikazuje čas iskanja vzorcev različnih dolžin v različnih indeksih besede. Vhodna beseda je roman Na klancu.} 
    \label{fig:IskanjeGrafSLO}
\end{figure}

\paragraph{Časovna zahtevnost poizvedbe za vzorec dolžine 5.}

Za DNK sekvenco, prikazano na Sliki \ref{fig:IskanjeGraf} (prvi graf), se vidi, da je iskanje v kompaktnem priponskem drevesu (označeno z rdečo barvo) najhitrejše. V priponskih drevesih (označenih z viola barvo) in kompaktnih priponskih drevesih je čas iskanja neodvisen od dolžine vhodne besed. Iskanja s priponskimi polji (označenimi z zeleno barvo in z modro barvo) pa se povečujeta za daljše besede.

Na Sliki \ref{fig:IskanjeGrafSLO} (prvi graf), ki prikazuje rezultate za roman Na klancu, so še bolj vidne razlike med implementacijami priponskih dreves ter med implementacijami s priponskimi polji. Pri iskanju vzorca v besedi dolžine 1024000 z uporabo priponskega drevesa se vidi skok v času, ki je potreben za izvršiti poizvedbo, saj so nekatere strani pomnilnika morale biti ponovno naložene v pomnilnik iz Swap razdelka.

\paragraph{Časovna zahtevnost poizvedbe za vzorec dolžine 50.}

Ko se velikost vzorca poveča na 50 znakov, se čas poizvedbe za DNK sekvenco, prikazano na Sliki \ref{fig:IskanjeGraf} (drugi graf), loči na dva dela, in sicer na hitrejše iskanje s priponskimi drevesi (označenimi z viola barvo) in kompaktnimi priponskimi drevesi (označenimi z rdečo barvo) ter na počasnejše iskanje s priponskimi polji (označenimi z zeleno barvo in z modro barvo). Pri tem se opazi tudi premik strani iz Swap razdelka na notranji pomnilnik pri testiranju priponskega drevesa besede dolžine 1024000.

Rezultati testiranja romana Na klancu, prikazano na Sliki \ref{fig:IskanjeGrafSLO} (drugi graf), so podobni rezultatom na DNK sekvenci. Vidi se lahko, da je iskanje s priponskimi drevesi oziroma kompaktnimi priponskimi drevesi desetkrat hitrejše kot s priponskimi polji. Opazi se lahko tudi vpliv premika strani, kot se je opazilo pri drugih že opravljenih testih. 

\paragraph{Časovna zahtevnost poizvedbe za vzorec dolžine 500.}
Če nadaljujemo na vzorce dolžine 500 znakov, so za DNK sekvenco, prikazani na Sliki \ref{fig:IskanjeGraf} (tretji graf), podobni rezultatom iskanja vzorcev dolžine 50 znakov. Pri tem je iskanje najhitrejše v priponskih drevesih (označenimi z viola barvo), razen za daljše besede, ki ne morejo biti shranjeni v celoti na delovnem pomnilniku. Pri tem pa se ne vidi tako drastičnega poslabšanja kot pri vzorcih dolžine 50 znakov.

Rezultati testiranja romana Na klancu so prikazani na Sliki \ref{fig:IskanjeGrafSLO} (tretji graf). Opazimo lahko, da so približno enaki kot za DNK sekvenco in za vzorce dolžine 50 znakov. Za razliko od DNK sekvence se v tem primeru izrecno vidi čas potreben za zamenjavo strani v notranjem pomnilniku na iskanje s priponskim drevesom (označenim z viola barvo). Vidi se tudi, da je priponsko drevo za vse teste razen za zadnja dva najhitrejši način iskanja vzorcev v besedah.

\paragraph{Časovna zahtevnost poizvedbe za vzorec dolžine $\log{n}$.}
Zadnja izdelana testa sta prisotnost vzorcev dolžine $\log{n}$ s pomočjo indeksov. Za DNK sekvenco, prikazano na Sliki \ref{fig:IskanjeGraf} (četrti graf), se vidi, da za krajše besede (besed, ki niso daljše od 1000 znakov) vse štiri podatkovne strukture potrebujejo približno isto časa. Za daljše besede pa je priponsko drevo (označeno z viola barvo) najhitrejši način iskanja. To velja zgolj dokler drevo ne preraste velikost notranjega pomnilnika in ne potrebuje zamenjave strani, kar negativno vpliva na rezultat iskanja.

Za roman Na klancu, prikazan na Sliki \ref{fig:IskanjeGrafSLO} (četrti graf), pa so rezultati podobni. Pri tem je priponsko drevo (označeno z viola barvo), konstantno najhitrejši način iskanja. To velja zgolj dokler drevo ne preraste velikost notranjega pomnilnika in ne potrebuje zamenjave strani, kar negativno vpliva na rezultat iskanja. To je v tem testu jasnejše vidno kot v DNK sekvenci.
